{"version":3,"file":"_page.svelte-47105845.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/banshare/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, e as escape, v as validate_component, d as add_attribute, l as each } from \"../../../chunks/index2.js\";\nimport { T as Textarea, L as LoadingSpinner, M as Modal } from \"../../../chunks/index3.js\";\nimport { C as Callout } from \"../../../chunks/Callout.js\";\nimport { c as PUBLIC_TCN_AUTH } from \"../../../chunks/public.js\";\nimport { L as LoggedInAs } from \"../../../chunks/LoggedInAs.js\";\nconst Redirect = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { to = PUBLIC_TCN_AUTH } = $$props;\n  if ($$props.to === void 0 && $$bindings.to && to !== void 0)\n    $$bindings.to(to);\n  return `<meta http-equiv=\"${\"refresh\"}\" content=\"${\"0;URL=\" + escape(to, true)}\">`;\n});\nconst _page_svelte_svelte_type_style_lang = \"\";\nconst css = {\n  code: \"input[type=submit].svelte-15eaza9{margin-right:0.5em}\",\n  map: null\n};\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { data } = $$props;\n  let { form } = $$props;\n  let ids = form?.ids ?? \"\";\n  let open = false;\n  crypto.randomUUID();\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  if ($$props.form === void 0 && $$bindings.form && form !== void 0)\n    $$bindings.form(form);\n  $$result.css.add(css);\n  let $$settled;\n  let $$rendered;\n  do {\n    $$settled = true;\n    $$rendered = `\n\n${!data.user ? `${validate_component(Redirect, \"Redirect\").$$render($$result, {}, {}, {})}` : `<div class=\"${\"container\"}\"><div id=\"${\"main\"}\"><h2>Banshare Form</h2>${validate_component(LoggedInAs, \"LoggedInAs\").$$render($$result, { user: data.user }, {}, {})}${`${form?.error ? `${validate_component(Callout, \"Callout\").$$render($$result, { style: \"red\" }, {}, {\n      default: () => {\n        return `<p><!-- HTML_TAG_START -->${form.error}<!-- HTML_TAG_END --></p>`;\n      }\n    })}<br>` : `${form?.success ? `${validate_component(Callout, \"Callout\").$$render($$result, { style: \"green\" }, {}, {\n      default: () => {\n        return `<p>Your banshare has been submitted.</p>`;\n      }\n    })}<br>` : ``}`}<form method=\"${\"post\"}\"><div class=\"${\"panel\"}\"><h4>ID(s) of the offender(s)</h4><input type=\"${\"text\"}\" name=\"${\"ids\"}\" placeholder=\"${\"Space-separated list of IDs\"}\" required autocomplete=\"${\"off\"}\"${add_attribute(\"value\", ids, 0)}>${ids.trim() !== \"\" ? `<div><br><a class=\"${\"button\"}\"${add_attribute(\"href\", \"javascript:void(0)\", 0)}>Check IDs</a>\n(shows the users&#39; tags if all IDs are valid)</div>` : ``}<h4>Reason</h4><p>If you need more than 498 characters, you should probably be putting it into the evidence field instead.</p>${validate_component(Textarea, \"Textarea\").$$render(\n      $$result,\n      {\n        name: \"reason\",\n        placeholder: \"Tip: make the reason something suitable for an audit log reason for the ban. Include context in the next field.\",\n        maxlength: \"498\",\n        required: true,\n        autocomplete: \"off\",\n        value: form?.reason\n      },\n      {},\n      {}\n    )}<h4>Evidence</h4><p>For images, use Imgur or a similar service. Discord hosted image links work too, but keep in mind that deleting the message containing the image will eventually cause the image link to break.</p><p>If you need more than 1000 characters, please create a document and link it here. Include some basic information in the evidence so people can see roughly what your document contains.</p><p>Please spoiler anything suggestive and break up any image links to explicit / triggering content so people can&#39;t accidentally access them.</p>${validate_component(Textarea, \"Textarea\").$$render(\n      $$result,\n      {\n        name: \"evidence\",\n        placeholder: \"Provide sufficient evidence to verify your reason and for other mods to make an informed decision.\",\n        required: true,\n        maxlength: \"1200\",\n        autocomplete: \"off\",\n        value: form?.evidence\n      },\n      {},\n      {}\n    )}</div><div class=\"${\"panel\"}\"><h4>Server</h4><p>Identify which server you are bansharing this from.</p>${`${validate_component(LoadingSpinner, \"LoadingSpinner\").$$render(\n      $$result,\n      {\n        size: 25,\n        foreground: \"var(--text-primary)\",\n        background: \"rgb(var(--pure), 50%)\",\n        text: \"Loading Servers\"\n      },\n      {},\n      {}\n    )}`}</div><div class=\"${\"panel\"}\"><h4>Severity</h4><p>The severity is used to determine auto-banning. A lower number indicates a greater threat.</p><ul><li><b>P0</b> — e.g. raids, harassment, etc.</li><li><b>P1</b> — e.g. low-threat scam bots</li><li><b>P2</b> — e.g. user causing a bit of trouble</li></ul><select name=\"${\"severity\"}\" required><option selected disabled hidden value=\"${\"\"}\">Select Severity</option>${each([\"P0\", \"P1\", \"P2\"], (sev) => {\n      return `<option${add_attribute(\"value\", sev.toLowerCase(), 0)} ${form?.severity === sev.toLowerCase() ? \"selected\" : \"\"}>${escape(sev)}</option>`;\n    })}</select></div><div class=\"${\"panel\"}\"><h4>Urgency</h4><p>Check the box below to instruct the bot to ping all observers instead of just a few to review this.</p><label><input type=\"${\"checkbox\"}\" name=\"${\"urgent\"}\" ${form?.urgent ? \"checked\" : \"\"}><b>This banshare is urgent.</b></label></div><div class=\"${\"panel\"}\"><input type=\"${\"submit\"}\" name=\"${\"submit\"}\" value=\"${\"Submit\"}\" style=\"${\"font-weight: 600\"}\" class=\"${\"svelte-15eaza9\"}\"><input type=\"${\"submit\"}\" name=\"${\"submit\"}\" value=\"${\"Submit Without Validation\"}\" class=\"${\"svelte-15eaza9\"}\"><input type=\"${\"submit\"}\" name=\"${\"submit\"}\" value=\"${\"Submit Without Checking IDs\"}\" class=\"${\"svelte-15eaza9\"}\"><br><p><b>WARNING:</b> You should only submit without checking IDs if your ID list is a link instead of an actual list of IDs. Doing this will also prevent automatic banning. Consider just pasting your entire ID list instead if possible - the bot will collapse it into a document link if it&#39;s too long.</p><p><b>This may take some time</b> if you have submitted a long ID list, as the</p><bot>needs time to fetch all of the users.</bot><p>If the list is very long and you want to get the banshare published ASAP, use &quot;Submit Without Validation&quot;, which will check if the IDs look correct but won&#39;t fetch all of the users.</p></div></form>`}</div></div>`}${validate_component(Modal, \"Modal\").$$render(\n      $$result,\n      {\n        background_color: \"var(--background-1)\",\n        overlay_color: \"rgb(var(--pure-rgb), 80%)\",\n        open\n      },\n      {\n        open: ($$value) => {\n          open = $$value;\n          $$settled = false;\n        }\n      },\n      {\n        default: () => {\n          return `${`${`<div class=\"${\"row\"}\">${validate_component(LoadingSpinner, \"LoadingSpinner\").$$render($$result, { size: 50, text: \"\" }, {}, {})}<b>Loading users...</b></div>`}`}`;\n        }\n      }\n    )}`;\n  } while (!$$settled);\n  return $$rendered;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":";;;;;;AAKA,MAAM,QAAQ,GAAG,oBAAoB,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,KAAK;AAChF,EAAE,IAAI,EAAE,EAAE,GAAG,eAAe,EAAE,GAAG,OAAO,CAAC;AACzC,EAAE,IAAI,OAAO,CAAC,EAAE,KAAK,KAAK,CAAC,IAAI,UAAU,CAAC,EAAE,IAAI,EAAE,KAAK,KAAK,CAAC;AAC7D,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;AACtB,EAAE,OAAO,CAAC,kBAAkB,EAAE,SAAS,CAAC,WAAW,EAAE,QAAQ,GAAG,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;AACrF,CAAC,CAAC,CAAC;AAEH,MAAM,GAAG,GAAG;AACZ,EAAE,IAAI,EAAE,uDAAuD;AAC/D,EAAE,GAAG,EAAE,IAAI;AACX,CAAC,CAAC;AACG,MAAC,IAAI,GAAG,oBAAoB,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,KAAK;AAC5E,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC;AACzB,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC;AACzB,EAAE,IAAI,GAAG,GAAG,IAAI,EAAE,GAAG,IAAI,EAAE,CAAC;AAC5B,EAAE,IAAI,IAAI,GAAG,KAAK,CAAC;AACnB,EAAE,MAAM,CAAC,UAAU,EAAE,CAAC;AACtB,EAAE,IAAI,OAAO,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,UAAU,CAAC,IAAI,IAAI,IAAI,KAAK,KAAK,CAAC;AACnE,IAAI,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC1B,EAAE,IAAI,OAAO,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,UAAU,CAAC,IAAI,IAAI,IAAI,KAAK,KAAK,CAAC;AACnE,IAAI,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC1B,EAAE,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACxB,EAAE,IAAI,SAAS,CAAC;AAChB,EAAE,IAAI,UAAU,CAAC;AACjB,EAAE,GAAG;AACL,IAAI,SAAS,GAAG,IAAI,CAAC;AACrB,IAAI,UAAU,GAAG,CAAC;AAClB;AACA,EAAE,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,EAAE,kBAAkB,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,YAAY,EAAE,WAAW,CAAC,WAAW,EAAE,MAAM,CAAC,wBAAwB,EAAE,kBAAkB,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,GAAG,CAAC,EAAE,kBAAkB,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE;AAC1W,MAAM,OAAO,EAAE,MAAM;AACrB,QAAQ,OAAO,CAAC,0BAA0B,EAAE,IAAI,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;AAClF,OAAO;AACP,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,OAAO,GAAG,CAAC,EAAE,kBAAkB,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,EAAE,EAAE;AACvH,MAAM,OAAO,EAAE,MAAM;AACrB,QAAQ,OAAO,CAAC,wCAAwC,CAAC,CAAC;AAC1D,OAAO;AACP,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,cAAc,EAAE,MAAM,CAAC,cAAc,EAAE,OAAO,CAAC,gDAAgD,EAAE,MAAM,CAAC,QAAQ,EAAE,KAAK,CAAC,eAAe,EAAE,6BAA6B,CAAC,yBAAyB,EAAE,KAAK,CAAC,CAAC,EAAE,aAAa,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,CAAC,mBAAmB,EAAE,QAAQ,CAAC,CAAC,EAAE,aAAa,CAAC,MAAM,EAAE,oBAAoB,EAAE,CAAC,CAAC,CAAC;AACtW,sDAAsD,CAAC,GAAG,CAAC,CAAC,CAAC,8HAA8H,EAAE,kBAAkB,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC,QAAQ;AAC9O,MAAM,QAAQ;AACd,MAAM;AACN,QAAQ,IAAI,EAAE,QAAQ;AACtB,QAAQ,WAAW,EAAE,iHAAiH;AACtI,QAAQ,SAAS,EAAE,KAAK;AACxB,QAAQ,QAAQ,EAAE,IAAI;AACtB,QAAQ,YAAY,EAAE,KAAK;AAC3B,QAAQ,KAAK,EAAE,IAAI,EAAE,MAAM;AAC3B,OAAO;AACP,MAAM,EAAE;AACR,MAAM,EAAE;AACR,KAAK,CAAC,0iBAA0iB,EAAE,kBAAkB,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC,QAAQ;AACnmB,MAAM,QAAQ;AACd,MAAM;AACN,QAAQ,IAAI,EAAE,UAAU;AACxB,QAAQ,WAAW,EAAE,oGAAoG;AACzH,QAAQ,QAAQ,EAAE,IAAI;AACtB,QAAQ,SAAS,EAAE,MAAM;AACzB,QAAQ,YAAY,EAAE,KAAK;AAC3B,QAAQ,KAAK,EAAE,IAAI,EAAE,QAAQ;AAC7B,OAAO;AACP,MAAM,EAAE;AACR,MAAM,EAAE;AACR,KAAK,CAAC,kBAAkB,EAAE,OAAO,CAAC,2EAA2E,EAAE,CAAC,EAAE,kBAAkB,CAAC,cAAc,EAAE,gBAAgB,CAAC,CAAC,QAAQ;AAC/K,MAAM,QAAQ;AACd,MAAM;AACN,QAAQ,IAAI,EAAE,EAAE;AAChB,QAAQ,UAAU,EAAE,qBAAqB;AACzC,QAAQ,UAAU,EAAE,uBAAuB;AAC3C,QAAQ,IAAI,EAAE,iBAAiB;AAC/B,OAAO;AACP,MAAM,EAAE;AACR,MAAM,EAAE;AACR,KAAK,CAAC,CAAC,CAAC,kBAAkB,EAAE,OAAO,CAAC,iSAAiS,EAAE,UAAU,CAAC,mDAAmD,EAAE,EAAE,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC,GAAG,KAAK;AACxc,MAAM,OAAO,CAAC,OAAO,EAAE,aAAa,CAAC,OAAO,EAAE,GAAG,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,QAAQ,KAAK,GAAG,CAAC,WAAW,EAAE,GAAG,UAAU,GAAG,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC;AACxJ,KAAK,CAAC,CAAC,2BAA2B,EAAE,OAAO,CAAC,gJAAgJ,EAAE,UAAU,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAE,EAAE,IAAI,EAAE,MAAM,GAAG,SAAS,GAAG,EAAE,CAAC,0DAA0D,EAAE,OAAO,CAAC,eAAe,EAAE,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,SAAS,EAAE,kBAAkB,CAAC,SAAS,EAAE,gBAAgB,CAAC,eAAe,EAAE,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,SAAS,EAAE,2BAA2B,CAAC,SAAS,EAAE,gBAAgB,CAAC,eAAe,EAAE,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,SAAS,EAAE,6BAA6B,CAAC,SAAS,EAAE,gBAAgB,CAAC,ipBAAipB,CAAC,CAAC,YAAY,CAAC,CAAC,EAAE,kBAAkB,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,QAAQ;AAC72C,MAAM,QAAQ;AACd,MAAM;AACN,QAAQ,gBAAgB,EAAE,qBAAqB;AAC/C,QAAQ,aAAa,EAAE,2BAA2B;AAClD,QAAQ,IAAI;AACZ,OAAO;AACP,MAAM;AACN,QAAQ,IAAI,EAAE,CAAC,OAAO,KAAK;AAC3B,UAAU,IAAI,GAAG,OAAO,CAAC;AACzB,UAAU,SAAS,GAAG,KAAK,CAAC;AAC5B,SAAS;AACT,OAAO;AACP,MAAM;AACN,QAAQ,OAAO,EAAE,MAAM;AACvB,UAAU,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,YAAY,EAAE,KAAK,CAAC,EAAE,EAAE,kBAAkB,CAAC,cAAc,EAAE,gBAAgB,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,6BAA6B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3L,SAAS;AACT,OAAO;AACP,KAAK,CAAC,CAAC,CAAC;AACR,GAAG,QAAQ,CAAC,SAAS,EAAE;AACvB,EAAE,OAAO,UAAU,CAAC;AACpB,CAAC;;;;"}