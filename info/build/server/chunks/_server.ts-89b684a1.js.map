{"version":3,"file":"_server.ts-89b684a1.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/observers/_server.ts.js"],"sourcesContent":["import { P as PUBLIC_TCN_API } from \"../../../../chunks/public.js\";\nimport { b as bot } from \"../../../../chunks/bot.js\";\nconst GET = async () => {\n  const request = await fetch(`${PUBLIC_TCN_API}/users`);\n  if (!request.ok)\n    return new Response(\n      '[null, \"TCN API returned an error; contact an observer (you can find a list in the TCN Hub).\"]'\n    );\n  const response = await request.json();\n  const api_users = response.filter((user) => user.roles.includes(\"observer\"));\n  const users = [];\n  let error = null;\n  for (const api_user of api_users)\n    try {\n      const user = await bot.users.fetch(api_user.id);\n      users.push({ id: user.id, tag: user.tag });\n    } catch {\n      error = \"One or more observer IDs were found to be invalid!\";\n    }\n  return new Response(JSON.stringify([users.sort((a, b) => a.tag.localeCompare(b.tag)), error]));\n};\nexport {\n  GET\n};\n"],"names":[],"mappings":";;;;;AAEK,MAAC,GAAG,GAAG,YAAY;AACxB,EAAE,MAAM,OAAO,GAAG,MAAM,KAAK,CAAC,CAAC,EAAE,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC;AACzD,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE;AACjB,IAAI,OAAO,IAAI,QAAQ;AACvB,MAAM,gGAAgG;AACtG,KAAK,CAAC;AACN,EAAE,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE,CAAC;AACxC,EAAE,MAAM,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;AAC/E,EAAE,MAAM,KAAK,GAAG,EAAE,CAAC;AACnB,EAAE,IAAI,KAAK,GAAG,IAAI,CAAC;AACnB,EAAE,KAAK,MAAM,QAAQ,IAAI,SAAS;AAClC,IAAI,IAAI;AACR,MAAM,MAAM,IAAI,GAAG,MAAM,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;AACtD,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACjD,KAAK,CAAC,MAAM;AACZ,MAAM,KAAK,GAAG,oDAAoD,CAAC;AACnE,KAAK;AACL,EAAE,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;AACjG;;;;"}